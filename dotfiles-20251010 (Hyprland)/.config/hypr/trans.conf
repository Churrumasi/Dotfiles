# ╔════════════════════════════════════════════╗
# ║       🌫️  EFECTOS GLOBALES (BLUR/OPACIDAD) ║
# ╚════════════════════════════════════════════╝
decoration {
    rounding = 8

    blur {
        enabled = true
        size = 8
        passes = 2
        new_optimizations = on
        ignore_opacity = false
        xray = false
    }

    active_opacity = 0.9
    inactive_opacity = 0.8
    fullscreen_opacity = 1.0
}

# Blur para TODAS las capas (Rofi, notificaciones, control center, etc.)
layerrule = blur, *
layerrule = ignorezero, *

# ╔════════════════════════════════════════════╗
# ║         💤  INHIBICIÓN DE INACTIVIDAD       ║
# ╚════════════════════════════════════════════╝
windowrule = idleinhibit fullscreen, class:^(.*celluloid.*)$|^(.*mpv.*)$|^(.*vlc.*)$
windowrule = idleinhibit fullscreen, class:^(.*[Ss]potify.*)$
windowrule = idleinhibit fullscreen, class:^(.*LibreWolf.*)$|^(.*floorp.*)$|^(.*brave-browser.*)$|^(.*firefox.*)$|^(.*chromium.*)$|^(.*zen.*)$|^(.*vivaldi.*)$

# ╔════════════════════════════════════════════╗
# ║         📺  PICTURE-IN-PICTURE SETTINGS     ║
# ╚════════════════════════════════════════════╝
windowrule = tag +picture-in-picture, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrule = float,           tag:picture-in-picture
windowrule = keepaspectratio, tag:picture-in-picture
windowrule = move 73% 72%,    tag:picture-in-picture
windowrule = size 25%,        tag:picture-in-picture
windowrule = pin,             tag:picture-in-picture

# ╔════════════════════════════════════════════╗
# ║              🪟  VENTANAS FLOTANTES          ║
# ╚════════════════════════════════════════════╝
windowrule = float,class:^(Signal)$
windowrule = float,class:^(com.github.rafostar.Clapper)$
windowrule = float,class:^(app.drey.Warp)$
windowrule = float,class:^(net.davidotek.pupgui2)$
windowrule = float,class:^(yad)$
windowrule = float,class:^(eog)$
windowrule = float,class:^(io.github.alainm23.planify)$
windowrule = float,class:^(io.gitlab.theevilskeleton.Upscaler)$
windowrule = float,class:^(com.github.unrud.VideoDownloader)$
windowrule = float,class:^(io.gitlab.adhami3310.Impression)$
windowrule = float,class:^(io.missioncenter.MissionCenter)$

# ╔════════════════════════════════════════════╗
# ║     💻  EXCEPCIONES DE OPACIDAD OPCIONALES  ║
# ╚════════════════════════════════════════════╝
# (solo si quieres personalizar más)
# windowrule = opacity 0.95 0.95,class:^(discord)$
# windowrule = opacity 0.75 0.75,class:^(kitty)$
# windowrule = opacity 1.0  1.0,class:^(steam)$

# ╔════════════════════════════════════════════╗
# ║  ⚙️  FIXES / COMPATIBILIDAD DE APLICACIONES  ║
# ╚════════════════════════════════════════════╝
# Evita parpadeo en menús de JetBrains IDEs
windowrule = noinitialfocus,class:^(.*jetbrains.*)$,title:^(win[0-9]+)$
